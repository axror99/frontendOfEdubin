<!doctype html>
<html lang="en">

<head>

    <!--====== Required meta tags ======-->
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!--====== Title ======-->
    <title>Edubin - LMS Education HTML Template</title>

    <!--====== Favicon Icon ======-->
    <link rel="shortcut icon" href="images/favicon.png" type="image/png">

    <!--====== Slick css ======-->
    <link rel="stylesheet" href="css/slick.css">

    <!--====== Animate css ======-->
    <link rel="stylesheet" href="css/animate.css">

    <!--====== Nice Select css ======-->
    <link rel="stylesheet" href="css/nice-select.css">

    <!--====== Nice Number css ======-->
    <link rel="stylesheet" href="css/jquery.nice-number.min.css">

    <!--====== Magnific Popup css ======-->
    <link rel="stylesheet" href="css/magnific-popup.css">

    <!--====== Bootstrap css ======-->
    <link rel="stylesheet" href="css/bootstrap.min.css">

    <!--====== Fontawesome css ======-->
    <link rel="stylesheet" href="css/font-awesome.min.css">

    <!--====== Default css ======-->
    <link rel="stylesheet" href="css/default.css">

    <!--====== Style css ======-->
    <link rel="stylesheet" href="css/style.css">

    <!--====== Responsive css ======-->
    <link rel="stylesheet" href="css/responsive.css">

</head>

<body>
<!--====== PRELOADER PART START ======-->

<div class="preloader">
    <div class="loader rubix-cube">
        <div class="layer layer-1"></div>
        <div class="layer layer-2"></div>
        <div class="layer layer-3 color-1"></div>
        <div class="layer layer-4"></div>
        <div class="layer layer-5"></div>
        <div class="layer layer-6"></div>
        <div class="layer layer-7"></div>
        <div class="layer layer-8"></div>
    </div>
</div>

<!--====== PRELOADER PART START ======-->

<!--====== HEADER PART START ======-->

<header id="header-part">

    <div class="header-top d-none d-lg-block">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <div class="header-contact text-lg-left text-center">
                        <ul>
                            <li></li>
                            <li></li>
                            <li></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-6">
                </div>
            </div> <!-- row -->
        </div> <!-- container -->
    </div> <!-- header top -->

    <div class="header-logo-support pt-30 pb-30">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-4">
                    <div class="logo">
                        <a href="index-2.html">
                            <img src="images/logo.png" alt="Logo">
                        </a>
                    </div>
                </div>
                <div class="col-lg-8 col-md-8">
                    <div class="support-button float-right d-none d-md-block">
                        <div class="support float-left">
                            <div class="icon">
                                <img src="images/all-icon/man.png" alt="icon">
                            </div>
                            <div class="cont">
                                <p>name :<span id="name">G@gmail.com</span></p>
                                <p>username :<span id="username">A</span></p>
                                <p>email :<span id="email">G@gmail.com</span></p>
                            </div>
                        </div>
                        <div class="button float-left">
<!--                            <a href="#" class="main-btn">Apply Now</a>-->
                        </div>
                    </div>
                </div>
            </div> <!-- row -->
        </div> <!-- container -->
    </div> <!-- header logo support -->

    <div class="navigation">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 col-md-10 col-sm-9 col-8">
                    <nav class="navbar navbar-expand-lg">
                        <button class="navbar-toggler" type="button" data-toggle="collapse"
                                data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                                aria-expanded="false" aria-label="Toggle navigation">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>

                        <div class="collapse navbar-collapse sub-menu-bar" id="navbarSupportedContent">
                            <ul class="navbar-nav mr-auto">
                                <li class="nav-item">
                                    <a  href="index-2.html">Home</a>

                                </li>
                                <li class="nav-item">
                                    <a href="about.html">About us</a>
                                </li>
                                <li class="nav-item">
                                    <a  href="courses.html">Courses</a>

                                </li>
                                <li class="nav-item">
                                    <a href="events.html">Events</a>

                                </li>
                                <li class="nav-item">
                                    <a href="teachers.html">Our teachers</a>

                                </li>
                                <li class="nav-item">
                                    <a href="blog.html">Blog</a>

                                </li>
                                <li class="nav-item">
                                    <a href="shop.html">Shop</a>

                                </li>
                                <li class="nav-item">
                                    <a href="contact.html">Contact</a>

                                </li>
                            </ul>
                        </div>
                    </nav> <!-- nav -->
                </div>
                <div class="col-lg-2 col-md-2 col-sm-3 col-4">
                    <div class="right-icon text-right">
                        <ul>
                            <li><a href="#"><i class="fa fa-shopping-bag"></i><span>0</span></a></li>
                            <button type="submit" style="color: #ffc600;
                            border-color: #07294d;
                             background-color: #07294d;"
                                     onclick="logOut()">Log out</button>
                        </ul>
                    </div> <!-- right icon -->
                </div>
            </div> <!-- row -->
        </div> <!-- container -->
    </div>

</header>

<!--====== HEADER PART ENDS ======-->

<!--====== SEARCH BOX PART START ======-->

<div class="search-box">
    <div class="serach-form">
        <div class="closebtn">
            <span></span>
            <span></span>
        </div>
        <form action="#">
            <input type="text" placeholder="Search by keyword">
            <button><i class="fa fa-search"></i></button>
        </form>
    </div> <!-- serach form -->
</div>

<!--====== SEARCH BOX PART ENDS ======-->

<!--====== PAGE BANNER PART START ======-->

<section id="page-banner" class="pt-105 pb-110 bg_cover" data-overlay="8"
         style="background-image: url(images/page-banner-2.jpg)">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="page-banner-cont">
                    <h2>Your Courses</h2>
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="#">Home</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Courses</li>
                        </ol>
                    </nav>
                </div>  <!-- page banner cont -->
            </div>
        </div> <!-- row -->
    </div> <!-- container -->
</section>

<!--====== PAGE BANNER PART ENDS ======-->

<!--====== COURSES PART START ======-->

<section id="courses-part" class="pt-120 pb-120 gray-bg">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="courses-top-search">
                    <ul class="nav float-left" id="myTab" role="tablist">
                        <li class="nav-item">
                            <a class="active" id="courses-grid-tab" data-toggle="tab" href="#courses-grid" role="tab"
                               aria-controls="courses-grid" aria-selected="true"><i class="fa fa-th-large"></i></a>
                        </li>
                        <li class="nav-item">
                            <a id="courses-list-tab" data-toggle="tab" href="#courses-list" role="tab"
                               aria-controls="courses-list" aria-selected="false"><i class="fa fa-th-list"></i></a>
                        </li>
                        <li class="nav-item">Showning 4 0f 24 Results</li>
                    </ul> <!-- nav -->

                    <div class="courses-search float-right">
                        <form action="#">
                            <input type="text" placeholder="Search">
                            <button type="button"><i class="fa fa-search"></i></button>
                        </form>
                    </div> <!-- courses search -->
                </div> <!-- courses top search -->
            </div>
        </div> <!-- row -->


        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="courses-grid" role="tabpanel" aria-labelledby="courses-grid-tab">
                <div class="row" id="course-foreach">

                </div>
            </div>
        </div> <!-- tab content -->

        <div class="row">
            <div class="col-lg-12">
                <nav class="courses-pagination mt-50">
                    <ul class="pagination justify-content-center">
                        <li class="page-item">
                            <a href="#" aria-label="Previous">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        </li>
                        <li class="page-item"><a class="active" href="#">1</a></li>
                        <li class="page-item"><a href="#">2</a></li>
                        <li class="page-item"><a href="#">3</a></li>
                        <li class="page-item">
                            <a href="#" aria-label="Next">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        </li>
                    </ul>
                </nav>  <!-- courses pagination -->
            </div>
        </div>  <!-- row -->
    </div>
    <div class="container">
        <div class="tab-content" >
            <div class="tab-pane fade show active" id="shop-grid" role="tabpanel" aria-labelledby="shop-grid-tab">
                <div class="row justify-content-center" id="for-each-merchandise">
                </div> <!-- row -->
            </div>
        </div> <!-- tab content -->
    </div> <!-- container -->
</section>

<!--====== COURSES PART ENDS ======-->

<!--====== FOOTER PART START ======-->

<footer id="footer-part">
    <div class="footer-top pt-40 pb-70">
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-6">
                    <div class="footer-about mt-40">
                        <div class="logo">
                            <a href="#"><img src="images/logo-2.png" alt="Logo"></a>
                        </div>
                        <p>Hayotdagi eng katta maqsadingizni biling va eng muhimini amalga oshiring .</p>
                        <p>Know your greatest goal in life and fulfill the most important one .</p>
                        <ul class="mt-20">
                            <li><a href="#"><i class="fa fa-facebook-f"></i></a></li>
                            <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="#"><i class="fa fa-google-plus"></i></a></li>
                            <li><a href="#"><i class="fa fa-instagram"></i></a></li>
                        </ul>
                    </div> <!-- footer about -->
                </div>
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="footer-link mt-40">
                        <div class="footer-title pb-25">
                            <h6>Sitemap</h6>
                        </div>
                        <ul>
                            <li><a href="index-2.html"><i class="fa fa-angle-right"></i>Home</a></li>
                            <li><a href="about.html"><i class="fa fa-angle-right"></i>About us</a></li>
                            <li><a href="courses.html"><i class="fa fa-angle-right"></i>Courses</a></li>
                            <li><a href="blog.html"><i class="fa fa-angle-right"></i>News</a></li>
                            <li><a href="events.html"><i class="fa fa-angle-right"></i>Event</a></li>
                        </ul>
                        <ul>
                            <li><a href="#"><i class="fa fa-angle-right"></i>Gallery</a></li>
                            <li><a href="shop.html"><i class="fa fa-angle-right"></i>Shop</a></li>
                            <li><a href="teachers.html"><i class="fa fa-angle-right"></i>Teachers</a></li>
                            <li><a href="#"><i class="fa fa-angle-right"></i>Support</a></li>
                            <li><a href="contact.html"><i class="fa fa-angle-right"></i>Contact</a></li>
                        </ul>
                    </div> <!-- footer link -->
                </div>
                <div class="col-lg-2 col-md-6 col-sm-6">
                    <div class="footer-link support mt-40">
                        <div class="footer-title pb-25">
                            <h6>Support</h6>
                        </div>
                        <ul>
                            <li><a href="#"><i class="fa fa-angle-right"></i>FAQS</a></li>
                            <li><a href="#"><i class="fa fa-angle-right"></i>Privacy</a></li>
                            <li><a href="#"><i class="fa fa-angle-right"></i>Policy</a></li>
                            <li><a href="#"><i class="fa fa-angle-right"></i>Support</a></li>
                            <li><a href="#"><i class="fa fa-angle-right"></i>Documentation</a></li>
                        </ul>
                    </div> <!-- support -->
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="footer-address mt-40">
                        <div class="footer-title pb-25">
                            <h6>Contact Us</h6>
                        </div>
                        <ul>
                            <li>
                                <div class="icon">
                                    <i class="fa fa-home"></i>
                                </div>
                                <div class="cont">
                                    <p>3-home, Beruniy street, Tashkent</p>
                                </div>
                            </li>
                            <li>
                                <div class="icon">
                                    <i class="fa fa-phone"></i>
                                </div>
                                <div class="cont">
                                    <p>+998 99) 845 47 46</p>
                                </div>
                            </li>
                            <li>
                                <div class="icon">
                                    <i class="fa fa-envelope-o"></i>
                                </div>
                                <div class="cont">
                                    <p>ahror060799@gmail.com</p>
                                </div>
                            </li>
                        </ul>
                    </div> <!-- footer address -->
                </div>
            </div> <!-- row -->
        </div> <!-- container -->
    </div> <!-- footer top -->

    <div class="footer-copyright pt-10 pb-25">
        <div class="container">
            <div class="row">
                <div class="col-md-8">
                    <div class="copyright text-md-left text-center pt-15">

                    </div>
                </div>
                <div class="col-md-4">
                    <div class="copyright text-md-right text-center pt-15">

                    </div>
                </div>
            </div> <!-- row -->
        </div> <!-- container -->
    </div> <!-- footer copyright -->
</footer>

<!--====== FOOTER PART ENDS ======-->

<!--====== BACK TO TP PART START ======-->

<a href="#" class="back-to-top"><i class="fa fa-angle-up"></i></a>

<!--====== BACK TO TP PART ENDS ======-->


<script>
    let token = localStorage.getItem('access_token');
    if ( token === undefined || token === null) {
        window.location.replace("login.html");
    }
        // const urlParams = new URLSearchParams(window.location.search);
        // const userId = urlParams.get('userId');
        fetch('http://localhost:8080/home/course/'+token,{
            method: 'GET',
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
                'authorization': token
            }
        })
            .then((data) => {
                if (data.status===401) {
                    window.location.replace('register.html');
                }else if (data.status===403){
                    console.log(data)
                    window.location.replace('login.html');
                }
                return data.json()
            })
            .then((dataJson) => {
                console.log(dataJson);
                document.getElementById('username').innerText=dataJson.data.username;
                document.getElementById('email').innerText=dataJson.data.email;
                document.getElementById('name').innerText=dataJson.data.name;
                const coursesGridRow =document.getElementById("course-foreach");

                // <img src="images/course/cu-1.jpg" alt="Course">
                for (key in dataJson.data.courses) {
                    const course = dataJson.data.courses[key];
                    const col = document.createElement('div');
                    col.classList.add('col-lg-4', 'col-md-6');

                    const singelCourse = document.createElement('div');
                    singelCourse.classList.add('singel-course', 'mt-30');

                    const thum = document.createElement('div');
                    thum.classList.add('thum');

                    const image = document.createElement('div');
                    image.classList.add('image');
                    const img = document.createElement('img');

                    // img.src = '../static/images/'+course.image;
                    // <img src="../static/images/${res.data.teacher.picture}"
                    img.src = '../static/images/'+course.image;
                    img.alt = 'course-Avatar';
                    image.appendChild(img);

                    const price = document.createElement('div');
                    price.classList.add('price');
                    const span = document.createElement('span');
                    span.textContent= 'OK';
                    price.appendChild(span);

                    thum.appendChild(image);
                    thum.appendChild(price);

                    const cont = document.createElement('div');
                    cont.classList.add('cont');

                    const ul = document.createElement('ul');

                    for (let i = 0; i < 5; i++) {
                        const li = document.createElement('li');
                        const iElement = document.createElement('i');
                        iElement.classList.add('fa', 'fa-star');
                        li.appendChild(iElement);
                        ul.appendChild(li);
                    }
                    const reviewsCount = document.createElement('span');
                    reviewsCount.textContent = `(20  Reviews)`;

                    const titleLink = document.createElement('a');
                    // titleLink.href = course.link;
                    titleLink.href = 'myBuyedCourse.html?courseId='+course.id;
                    const title = document.createElement('h4');
                    title.textContent = course.name;
                    titleLink.appendChild(title);

                    const courseTeacher = document.createElement('div');
                    courseTeacher.classList.add('course-teacher');

                    const teacherThum = document.createElement('div');
                    teacherThum.classList.add('thum');
                    const teacherImg = document.createElement('img');
                    // teacherImg.src = course.teacher.picture;
                    // teacherImg.src = 'images/course/teacher/t-1.jpg';
                    teacherImg.src = '../static/images/'+course.teacher[0].picture;
                    teacherImg.alt = 'avatar';
                    teacherThum.appendChild(teacherImg);

                    const teacherName = document.createElement('div');
                    teacherName.classList.add('name');
                    const teacherNameLink = document.createElement('a');
                    const teacherNameH6 = document.createElement('h6');
                    teacherNameH6.textContent = course.teacher[0].name;
                    teacherNameLink.appendChild(teacherNameH6);
                    teacherName.appendChild(teacherNameLink);

                    const admin = document.createElement('div');
                    admin.classList.add('admin');
                    const adminUl = document.createElement('ul');

                    const studentsCountLi = document.createElement('li');
                    const studentsCountLink = document.createElement('a');
                    const studentsCountIcon = document.createElement('i');
                    studentsCountIcon.classList.add('fa', 'fa-user');
                    const studentsCountSpan = document.createElement('span');
                    // studentsCountSpan.textContent = course.users;
                    studentsCountSpan.textContent = course.teacher.length-1;
                    studentsCountLink.appendChild(studentsCountIcon);
                    studentsCountLink.appendChild(studentsCountSpan);
                    studentsCountLi.appendChild(studentsCountLink);

                    const likesCountLi = document.createElement('li');
                    const likesCountLink = document.createElement('a');
                    const likesCountIcon = document.createElement('i');
                    likesCountIcon.classList.add('fa', 'fa-heart');
                    const likesCountSpan = document.createElement('span');
                    likesCountSpan.textContent = course.likes;
                    likesCountLink.appendChild(likesCountIcon);
                    likesCountLink.appendChild(likesCountSpan);
                    likesCountLi.appendChild(likesCountLink);
                    adminUl.appendChild(studentsCountLi);
                    adminUl.appendChild(likesCountLi);
                    admin.appendChild(adminUl);

                    courseTeacher.appendChild(teacherThum);
                    courseTeacher.appendChild(teacherName);
                    courseTeacher.appendChild(admin);

                    cont.appendChild(ul);
                    cont.appendChild(reviewsCount);
                    cont.appendChild(titleLink);
                    cont.appendChild(courseTeacher);

                    singelCourse.appendChild(thum);
                    singelCourse.appendChild(cont);

                    col.appendChild(singelCourse);
                    coursesGridRow.appendChild(col);
                }

                let temp = document.getElementById('for-each-merchandise');
                for (key in dataJson.data.merchandises){
                    const product=dataJson.data.merchandises[key];
                    // create outer div with class attributes
                    const outerDiv = document.createElement("div");
                    outerDiv.classList.add("col-lg-3", "col-md-6", "col-sm-8");

                    // create inner div with class attributes
                    const innerDiv = document.createElement("div");
                    innerDiv.classList.add("singel-publication", "mt-30");

                    const image= document.createElement('div');
                    image.classList.add("image");

                    // create image element with src attribute
                    const img = document.createElement("img");
                    img.src = '../static/images/'+product.picture;
                    img.width=280;
                    img.height=280;
                    img.alt = "Publication";

                    const addCartDiv = document.createElement("div");
                    addCartDiv.classList.add("add-cart");

                    // const ul = document.createElement("ul");
                    // const li1 = document.createElement("li");
                    // const li2 = document.createElement("li");
                    //
                    // const link1 = document.createElement("a");
                    // link1.href = "#";
                    // const icon1 = document.createElement("i");
                    // icon1.classList.add("fa", "fa-shopping-cart");
                    // link1.appendChild(icon1);
                    // li1.appendChild(link1);
                    //
                    // const link2 = document.createElement("a");
                    // link2.href = "#";
                    // const icon2 = document.createElement("i");
                    // icon2.classList.add("fa", "fa-heart-o");
                    // link2.appendChild(icon2);
                    // li2.appendChild(link2);
                    //
                    // ul.appendChild(li1);
                    // ul.appendChild(li2);
                    // addCartDiv.appendChild(ul);

                    image.appendChild(img);
                    image.appendChild(addCartDiv);
                    // create cont div with child elements
                    const contDiv = document.createElement("div");
                    contDiv.classList.add("cont");

                    const nameDiv = document.createElement("div");
                    nameDiv.classList.add("name");

                    const nameLink = document.createElement("a");
                    nameLink.href = "shop-singel.html?pageId="+product.id;

                    const nameHeader = document.createElement("h6");
                    let substring =  product.headline.substring(0, 25) + " ...";
                    nameHeader.textContent = substring;
                    nameLink.appendChild(nameHeader);

                    const nameSpan = document.createElement("span");
                    nameSpan.textContent = "$"+product.price;

                    nameDiv.appendChild(nameLink);
                    nameDiv.appendChild(nameSpan);

                    const buttonDiv = document.createElement("div");
                    buttonDiv.classList.add("button", "text-right");

                    const buttonLink = document.createElement("a");
                    buttonLink.href = "shop-singel.html?pageId="+product.id;
                    buttonLink.classList.add("main-btn");
                    buttonLink.textContent = "Buy Now";

                    buttonDiv.appendChild(buttonLink);

                    contDiv.appendChild(nameDiv);
                    contDiv.appendChild(buttonDiv);

                    // append child elements to parent elements
                    // addCartDiv.appendChild(img);
                    innerDiv.appendChild(image);
                    innerDiv.appendChild(contDiv);
                    outerDiv.appendChild(innerDiv);
                    temp.appendChild(outerDiv);
                }
            })
            .catch((err) => {
                console.log(err)
            })
</script>
<script>
    function logOut(){
        const token = localStorage.getItem('access_token');
        if (token) {
            localStorage.removeItem('access_token');
            window.location.href = 'index-2.html';
        }
    }
</script>

<!--====== jquery js ======-->
<script src="js/vendor/modernizr-3.6.0.min.js"></script>
<script src="js/vendor/jquery-1.12.4.min.js"></script>

<!--====== Bootstrap js ======-->
<script src="js/bootstrap.min.js"></script>

<!--====== Slick js ======-->
<script src="js/slick.min.js"></script>

<!--====== Magnific Popup js ======-->
<script src="js/jquery.magnific-popup.min.js"></script>

<!--====== Counter Up js ======-->
<script src="js/waypoints.min.js"></script>
<script src="js/jquery.counterup.min.js"></script>

<!--====== Nice Select js ======-->
<script src="js/jquery.nice-select.min.js"></script>

<!--====== Nice Number js ======-->
<script src="js/jquery.nice-number.min.js"></script>

<!--====== Count Down js ======-->
<script src="js/jquery.countdown.min.js"></script>

<!--====== Validator js ======-->
<script src="js/validator.min.js"></script>

<!--====== Ajax Contact js ======-->
<script src="js/ajax-contact.js"></script>

<!--====== Main js ======-->
<script src="js/main.js"></script>

<!--====== Map js ======-->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDC3Ip9iVC0nIxC6V14CKLQ1HZNF_65qEQ"></script>
<script src="js/map-script.js"></script>

</body>

</html>
